<div xmlns:th="http://www.thymeleaf.org">
<!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <!-- Humberger Begin -->
    <div class="humberger__menu__overlay"></div>
    <div class="humberger__menu__wrapper">
        <div class="humberger__menu__logo">
            <a th:href="@{/home/index}"><img src="/assets/img/logo.png" alt=""></a>
        </div>
        <div class="humberger__menu__cart">
            <ul>
                <li><a th:href="@{/favourite/view}"><i class="fa fa-heart"></i> <span th:text="${totalProducts}"></span></a></li>
				<li><a th:href="@{/cart/view}" aria-current="true"> <span>{{cart.count}}</span> <i
						class="fa-solid fa-cart-shopping"></i>
				</a></li>
				<!-- <li><a href="#"><i class="fa fa-shopping-bag"></i> <span>3</span></a></li> -->
            </ul>
        </div>
        <div class="humberger__menu__widget">
            <div class="header__top__right__language">
                <img src="/assets/img/Icon_CoVN.png" alt="">
                <div>Vietnamese</div>
                <span class="arrow_carrot-down"></span>
                <ul>
                    <li><a href="#">Vietnamese</a></li>
                    <li><a href="#">English</a></li>
                </ul>
            </div>
            <div class="header__top__right__auth">
				<nav class="header__menu2">
					<ul>
						<li><a href="#"><span th:if="${#request.remoteUser}">Xin chào,<span id="username2"> [[${#request.remoteUser}]]</span></span> <span
								th:unless="${#request.remoteUser}">&nbsp &nbsp &nbsp &nbsp
									&nbsp &nbsp<i class="fa fa-user"></i>Tài Khoản
							</span>
						</a>
							<ul class="header__menu__dropdown2">
								<th:block th:unless="${#request.remoteUser}">
									<li><a th:href="@{/security/login/form}">Đăng Nhập</a></li>
									<li><a th:href="@{/security/register/form}">Đăng Ký</a></li>
								</th:block>
								<th:block th:if="${#request.remoteUser}">
									<li><a th:href="@{/order/list}">Giỏ Hàng Của Tôi</a></li>
									<li><a data-bs-toggle="modal" data-bs-target="#profileModal" style="cursor: pointer;">Thông Tin Đăng Nhập</a></li>
									<li
										th:if="${#request.isUserInRole('DIRE') or #request.isUserInRole('STAF')}">
										<a th:href="@{/admin/index}">Trang Quản Trị</a>
									</li>
									<li><a th:href="@{/security/logoff}">Đăng Xuất</a></li>
								</th:block>
							</ul></li>
					</ul>
				</nav>
		</div>
        </div>
        <nav class="humberger__menu__nav mobile-menu">
            <ul>
                <li class="active"><a th:href="@{/home/index}">Trang Chủ</a></li>
                <li><a th:href="@{/product/list}">Sản Phẩm</a></li>
                <li><a href="/user/home/blog.html">Blog</a></li>
                <li><a href="/user/home/contact.html">Liên Hệ</a></li>
            </ul>
        </nav>
        <div id="mobile-menu-wrap"></div>
        <div class="header__top__right__social">
            <a href="#"><i class="fa fa-facebook"></i></a>
            <a href="#"><i class="fa fa-twitter"></i></a>
            <a href="#"><i class="fa fa-linkedin"></i></a>
            <a href="#"><i class="fa fa-pinterest-p"></i></a>
        </div>
        <div class="humberger__menu__contact">
            <ul>
                <li><i class="fa-solid fa-envelope" style="color: #ffffff;"></i> tastybites20023@gmail.com</li>
                <li><i class="fa-sharp fa-solid fa-truck-fast" style="color: #ffffff;"></i> Miễn phí ship cho hóa đơn trên 500k</li>
            </ul>
        </div>
    </div>
    <!-- Humberger End -->

    <!-- Header Section Begin -->
    <header class="header">
        <div class="header__top">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 col-md-6">
                        <div class="header__top__left">
                            <ul>
                                <li><i class="fa-solid fa-envelope" style="color: #ffffff;"></i></i> tastybites20023@gmail.com</li>
                                <li><i class="fa-sharp fa-solid fa-truck-fast" style="color: #ffffff;"></i> Miễn phí ship cho hóa đơn trên 500k</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-6 col-md-6">
                        <div class="header__top__right">
                            <div class="header__top__right__social">
                                <a href="#"><i class="fa fa-facebook"></i></a>
                                <a href="#"><i class="fa fa-twitter"></i></a>
                                <a href="#"><i class="fa fa-linkedin"></i></a>
                                <a href="#"><i class="fa fa-pinterest-p"></i></a>
                            </div>
                            <div class="header__top__right__language">
                                <img src="/assets/img/Icon_CoVN.png" alt="">
                                <div>Vietnamese</div>
                                <span class="arrow_carrot-down"></span>
                                <ul>
                                    <li><a href="#">Vietnamese</a></li>
                                    <li><a href="#">English</a></li>
                                </ul>
                            </div>
                            <div class="header__top__right__auth">
                            	<nav class="header__menu2">
                            		<ul>
                            			<li><a href="#">
			                            		<span th:if="${#request.remoteUser}">Xin chào,<span id="username2"> [[${#request.remoteUser}]]</span></span>
			                            		 <span th:unless="${#request.remoteUser}">&nbsp &nbsp &nbsp &nbsp &nbsp &nbsp<i class="fa fa-user"></i>Tài Khoản</span>
			                            	</a>
						                    <ul class="header__menu__dropdown2">
						                    	<th:block th:unless="${#request.remoteUser}">
						                    		<li><a th:href="@{/security/login/form}">Đăng Nhập</a></li>
						                    		<li><a th:href="@{/security/register/form}">Đăng Ký</a></li>
						                    	</th:block>	
						                    	<th:block th:if="${#request.remoteUser}">			
							                        <li><a th:href="@{/order/list}">Giỏ Hàng Của Tôi</a></li>
							                        <li><a data-bs-toggle="modal" data-bs-target="#profileModal" style="cursor: pointer;">Thông Tin Đăng Nhập</a></li>
							                        <li th:if="${#request.isUserInRole('DIRE') or #request.isUserInRole('STAF')}">
							                        	<a th:href="@{/admin/index}">Trang Quản Trị</a>
							                        </li>
							                        <li><a  th:href="@{/security/logoff}">Đăng Xuất</a></li>
						                    	</th:block>
						                    </ul>
						                </li>
                            		</ul>
                            	</nav>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="header__logo">
                        <a th:href="@{/home/index}"><img src="/assets/img/logo.png" alt=""></a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <nav class="header__menu">
                        <ul>
                            <li class="active"><a th:href="@{/home/index}">Trang Chủ</a></li>
                            <li><a th:href="@{/product/list}">Sản Phẩm</a></li>    
                            <li><a href="/user/home/blog.html">Blog</a></li>
                            <li><a href="/user/home/contact.html">Liên Hệ</a></li> 
                        </ul>
                    </nav>
                </div>
                <div class="col-lg-3">
                    <div class="header__cart">
                        <ul>
                            <li><a th:href="@{/favourite/view}"><i class="fa fa-heart"></i> <span th:text="${totalProducts}"></span></a></li>
                            <li>
	                            <a aria-current="true" onclick="toggleMiniCart()"> <span>{{cart.count}}</span> <i class="fa-solid fa-cart-shopping"></i>
								</a>
							</li>
                            <!-- <li><a href="shoping-cart.html"><i class="fa fa-shopping-bag"></i> <span>3</span></a></li> -->
                        </ul>
                        <div class="mini-cart">
						  <div class="mini-cart__header">
						    <h3>Your Cart</h3>
						    <button class="mini-cart__close" onclick="closeMiniCart()"><i class="fa-solid fa-xmark"></i></button>
						  </div>
						  <div class="mini-cart__list">
						    <!-- Các mục giỏ hàng sẽ được thêm vào đây -->
						    <div ng-if="cart.items.length > 0">
						      <div class="product-widget" ng-repeat="item in cart.items">
						        <div class="product-img">
						          <img src="/assets/img/product/{{item.image}}" alt="">
						          <button class="remove-product" ng-click="cart.remove(item.id)">
						            <i class="fas fa-times"></i>
						          </button>
						        </div>
						        <div class="product-body">
						          <h3 class="product-name">
						            <a href="#">{{item.name}}</a>
						          </h3>
						          <h5 class="product-price">
						            <span class="qty">{{item.qty}} x </span>{{item.price|number}}&nbsp;<span style="text-decoration: underline;">đ</span>
						          </h5>
						        </div>
						      </div>
						    </div>
						    <div ng-if="cart.items.length === 0" class="empty-cart-message">
						      Chưa có sản phẩm nào trong giỏ hàng  <i class="fas fa-exclamation-circle"></i>
						    </div>
						  </div>
						  <div ng-if="cart.items.length > 0" class="cart-summary">
						    <h5>Subtotal: {{getSubtotal()|number}}&nbsp;<span style="text-decoration: underline;">đ</span></h5>
						  </div>
						  <div ng-if="cart.items.length > 0" class="mini-cart__footer">
						    <a th:href="@{/cart/view}" class="mini-cart__btn-view">View Cart</a>
						  </div>
						</div>

                    </div>
                    
                </div>
            </div>
            <div class="humberger__open">
                <i class="fa fa-bars"></i>
            </div>
        </div>
    </header>
	<!-- Hero Section Begin -->
    <section class="hero">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="hero__categories">
                        <div class="hero__categories__all">
                            <i class="fa fa-bars"></i>
                            <span>Tất Cả Sản Phẩm</span>
                        </div>
                        <ul>
                        	<li th:each="category : ${categories}"><a th:href="@{|/product/list?cid=${category.id}|}" th:text="${category.name}"></a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-9">
                    <div class="hero__search">
                        <div class="hero__search__form">
                            <form th:action="@{/product/list/search}" method="get">
                                <div class="hero__search__categories">
                                    All Categories
                                    <span class="arrow_carrot-down"></span>
                                </div>
                                <input  name="keyword" type="text" placeholder="Bạn cần tìm gì ?">
                                <button type="submit" class="site-btn">SEARCH</button>
                            </form>
                        </div>
                        <div class="hero__search__phone">
                            <div class="hero__search__phone__icon">
                                <i class="fa fa-phone"></i>
                            </div>
                            <div class="hero__search__phone__text">
                                <h5>(+84) 586.352.874</h5>
                                <span>Hổ trợ 24/7</span>
                            </div>
                        </div>
                    </div>
                    <div class="hero__item set-bg" data-setbg="/assets/img/hero/banner.jpg">
                        <div class="hero__text">
                            <span>FRUIT FRESH</span>
                            <h2>Vegetable <br />100% Organic</h2>
                            <p>Free Pickup and Delivery Available</p>
                            <a href="#" class="primary-btn">SHOP NOW</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->
    
    <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
	  <div class="modal-dialog" style="max-width: 1000px;">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="profileModalLabel">Thông Tin Tài Khoản</h5>
	        <span data-bs-dismiss="modal" aria-label="Close" style="cursor: pointer;"><i class="fas fa-times"></i></span>
	      </div>
	      <div class="modal-body">
	        <div th:insert="/user/profile.html"></div>
	      </div>
	      <!-- <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary">Save changes</button>
	      </div> -->
	    </div>
	  </div>
	</div>
</div>